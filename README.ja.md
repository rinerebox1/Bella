# ベラ (Bella) の仕組みについて

このドキュメントでは、3Dアバター「ベラ」が現在どのように機能しているかを日本語で説明します。

## 概要

ベラは、単なるアプリケーションではなく、「デジタルコンパニオン」という大きな構想の第一歩です。現在のバージョンでは、ベラの存在はあらかじめ用意されたビデオの再生によって表現されています。将来的には、より高度なAIを搭載し、ユーザーとの対話を通じて成長する存在になることを目指しています。

## 現在の機能

ベラの「アバター」は、現在、ビデオの再生によって実現されています。ビデオの切り替えは、以下の2つの方法で行われます。

### 1. ランダム再生

一つのビデオが終了すると、システムはリストの中からランダムに次のビデオを選んで再生します。これにより、ベラが常にそこにいて、自然に動いているような印象を与えます。この機能は `script.js` ファイル内の `switchVideo` 関数で制御されています。

### 2. 音声対話による感情表現

画面中央のマイクボタンをクリックすると、ベラがあなたの声を「聞き取り」ます。

- **仕組み:**
  - ブラウザの音声認識機能（`SpeechRecognition`）を使用して、ユーザーの話した言葉をテキストに変換します。
  - `script.js` の `analyzeAndReact` 関数が、そのテキストに特定のキーワード（例：「嬉しい」「悲しい」など）が含まれているかをチェックします。
  - ポジティブな言葉が検出されると、笑顔や喜びを表現するビデオが再生されます。
  - ネガティブな言葉が検出されると、少し悲しそうな、あるいは心配しているようなビデオが再生されます。

この音声対話機能により、ユーザーはベラと簡単な感情的なやり取りを体験することができます。

## 将来の展望

`README.md` に記載されているように、これはプロジェクトの非常に初期の段階です。将来的には、以下のような、より高度なAIネイティブのアーキテクチャを目指しています。

- **多モーダルな感情・状況認識:** 音声や映像から、より複雑な感情や状況をリアルタイムで理解する。
- **生成AIによる人格形成:** 大規模言語モデル（LLM）を活用し、固定された脚本ではなく、対話を通じてベラ自身の人格を形成していく。
- **能動的な関わり:** ユーザーの習慣やパターンを学習し、受動的に応答するだけでなく、ベラから主动的に関わってくる。

現在のベラは、この壮大なビジョンに向けた第一歩です。今後の進化にご期待ください。
